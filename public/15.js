(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{64:function(t,e,a){"use strict";a.r(e);var s=a(78);function i(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return l=t.done,t},e:function(t){c=!0,r=t},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw r}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var r={components:{BToast:s.a},props:{plansProp:{type:Array,default:[]}},data:function(){return{plans:this.plansProp,showPlan:!1,current:"",breakfast:{recipes:[]},lunch:{recipes:[]},dinner:{recipes:[]},snacks:{recipes:[]},totalCalories:0,firstWeek:[],secondWeek:[],thirdWeek:[],fourthWeek:[]}},methods:{deletePlan:function(){var t=this;(new s.a).$bvToast.toast("Plan je obrisan",{title:"Uspješno",toaster:"b-toaster-top-right",solid:!0,appendToast:!1,variant:"danger"}),axios.delete("./api/schedule/deleteById/".concat(this.current)).then((function(e){200==e.status&&(window.scrollTo({top:0,behavior:"smooth"}),t.plans=t.plans.filter((function(e){return e.id!=t.current})),t.generateMatrix(),t.generatePlans())})).catch((function(t){console.log(t)}))},renderPlan:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(null!=t.plan){if(0==t)return this.current=0,this.breakfast={},this.lunch={},this.dinner={},this.snacks=[],void(this.totalCalories=0);var e=t.plan,a=t.id;this.current=a,this.breakfast=e[0],this.lunch=e[1],this.dinner=e[2],this.snacks=e[3],this.totalCalories=e[4]}},openModal:function(t){this.modalVisible=!0,Event.$emit("openModal",this.modalVisible,t)},generateMatrix:function(){var t=1e6;this.firstWeek=Array.from({length:7},(function(){return{id:t++,name:""}})),this.secondWeek=Array.from({length:7},(function(){return{id:t++,name:""}})),this.thirdWeek=Array.from({length:7},(function(){return{id:t++,name:""}})),this.fourthWeek=Array.from({length:7},(function(){return{id:t++,name:""}}))},generatePlans:function(){if(0!=this.plans.length){var t,e=!0,a=i(this.plans);try{for(a.s();!(t=a.n()).done;){var s=t.value,n=s.day;if(s.day<8){e&&(this.current=s.id,this.renderPlan({id:s.id,name:s.name,plan:s.daily_plan}),e=!1);for(var r=0;r<7;r++)""==this.firstWeek[r].name&&(this.firstWeek[r].name="<i class='fa fa-minus' disabled></i>");null==s.name&&(s.name="moj plan"),this.firstWeek[n-1]={id:s.id,name:s.name,plan:s.daily_plan}}else if(s.day<15){e&&(this.current=s.id,this.renderPlan({id:s.id,name:s.name,plan:s.daily_plan}),e=!1);for(var l=0;l<7;l++)""==this.secondWeek[l].name&&(this.secondWeek[l].name="<i class='fa fa-minus' disabled></i>");null==s.name&&(s.name="moj recept"),this.secondWeek[n-8]={id:s.id,name:s.name,plan:s.daily_plan}}else if(s.day<22){e&&(this.current=s.id,this.renderPlan({id:s.id,name:s.name,plan:s.daily_plan}),e=!1);for(var c=0;c<7;c++)""==this.thirdWeek[c].name&&(this.thirdWeek[c].name="<i class='fa fa-minus' disabled></i>");null==s.name&&(s.name="moj recept"),this.thirdWeek[n-15]={id:s.id,name:s.name,plan:s.daily_plan}}else{e&&(this.current=s.id,this.renderPlan({id:s.id,name:s.name,plan:s.daily_plan}),e=!1);for(var o=0;o<7;o++)""==this.fourthWeek[o].name&&(this.fourthWeek[o].name="<i class='fa fa-minus' disabled></i>");null==s.name&&(s.name="moj recept"),this.fourthWeek[n-22]={id:s.id,name:s.name,plan:s.daily_plan}}}}catch(t){a.e(t)}finally{a.f()}}}},beforeMount:function(){this.generateMatrix(),this.generatePlans()},created:function(){}},l=a(2),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-4"},[t.plans.length>0?a("div",[a("div",{},[a("div",{staticClass:"grid-menu"},[a("div",{staticClass:"header-item"},[t._v("Pon")]),t._v(" "),a("div",{staticClass:"header-item"},[t._v("Uto")]),t._v(" "),a("div",{staticClass:"header-item"},[t._v("Sri")]),t._v(" "),a("div",{staticClass:"header-item"},[t._v("Čet")]),t._v(" "),a("div",{staticClass:"header-item"},[t._v("Pet")]),t._v(" "),a("div",{staticClass:"header-item"},[t._v("Sub")]),t._v(" "),a("div",{staticClass:"header-item"},[t._v("Ned")]),t._v(" "),t._l(t.firstWeek,(function(e){return a("div",{key:e.id,staticClass:"first-row",class:{active:t.current==e.id,pointer:"<i class='fa fa-minus'></i>"!=e.name},on:{click:function(a){return t.renderPlan(e)}}},[a("span",{domProps:{innerHTML:t._s(e.name)}})])})),t._v(" "),t._l(t.secondWeek,(function(e){return a("div",{key:e.id,class:{active:t.current==e.id,pointer:"<i class='fa fa-minus'></i>"!=e.name},on:{click:function(a){return t.renderPlan(e)}}},[a("span",{domProps:{innerHTML:t._s(e.name)}})])})),t._v(" "),t._l(t.thirdWeek,(function(e){return a("div",{key:e.id,class:{active:t.current==e.id,pointer:"<i class='fa fa-minus'></i>"!=e.name},on:{click:function(a){return t.renderPlan(e)}}},[a("span",{domProps:{innerHTML:t._s(e.name)}})])})),t._v(" "),t._l(t.fourthWeek,(function(e){return a("div",{key:e.id,class:{active:t.current==e.id,pointer:"<i class='fa fa-minus'></i>"!=e.name},on:{click:function(a){return t.renderPlan(e)}}},[a("span",{domProps:{innerHTML:t._s(e.name)}})])}))],2)])]):t._e(),t._v(" "),t.plans.length>0?a("div",{staticClass:"meals",staticStyle:{border:"none"}},[a("div",{staticClass:"total-stats"},[a("div",{staticClass:"total"},[a("span",[t._v("Ukupno kalorija:")]),t._v(" "),a("span",[t._v(t._s(t.totalCalories)+" kcal")])]),t._v(" "),t._m(0)]),t._v(" "),t.breakfast.recipes.length>0?a("div",{staticClass:"meal"},[a("div",{staticClass:"meal-top"},[a("div",{staticClass:"meal-name"},[t._v("Dorucak")]),t._v(" "),a("div",{staticClass:"meal-stats"},[a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/calories.png",alt:""}}),t._v(" "),a("span",[t._v("kcal: "+t._s(t.breakfast.totalMealCalories))])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/carbs.png",alt:""}}),t._v(" "),a("span",[t._v("UH: "+t._s(t.breakfast.totalUH))])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/protein.png",alt:""}}),t._v(" "),a("span",[t._v("protein: "+t._s(t.breakfast.totalProteins)+"g")])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/lipids.png",alt:""}}),t._v(" "),a("span",[t._v("masti: "+t._s(t.breakfast.totalLipids)+"g")])])])]),t._v(" "),a("div",{staticClass:"recipes-refresh"},[a("div",{staticClass:"recipes"},t._l(t.breakfast.recipes,(function(e){return a("div",{key:e.id,staticClass:"recipe",attrs:{id:e.recipe_id}},[a("div",{on:{click:function(a){return t.openModal(e)}}},[a("img",{attrs:{src:e.recipeObj.recipe_img,width:"40px",alt:e.recipeObj.recipe_name}})]),t._v(" "),a("div",{staticClass:"recipe-desc",on:{click:function(a){return t.openModal(e)}}},[a("div",{staticClass:"recipe-name"},[t._v("\n                "+t._s(e.recipeObj.recipe_name)+"\n              ")]),t._v(" "),a("div",{staticClass:"recipe-weight"},[t._v(t._s(e.recipeCalories)+"kcal")])])])})),0)])]):t._e(),t._v(" "),t.lunch.recipes.length?a("div",{staticClass:"meal"},[a("div",{staticClass:"meal-top"},[a("div",{staticClass:"meal-name"},[t._v("Ručak")]),t._v(" "),a("div",{staticClass:"meal-stats"},[a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/calories.png",alt:""}}),t._v(" "),a("span",[t._v("kcal: "+t._s(t.lunch.totalMealCalories))])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/carbs.png",alt:""}}),t._v(" "),a("span",[t._v("UH: "+t._s(t.lunch.totalUH))])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/protein.png",alt:""}}),t._v(" "),a("span",[t._v("protein: "+t._s(t.lunch.totalProteins)+"g")])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/lipids.png",alt:""}}),t._v(" "),a("span",[t._v("masti: "+t._s(t.lunch.totalLipids)+"g")])])])]),t._v(" "),a("div",{staticClass:"recipes-refresh"},[a("div",{staticClass:"recipes"},t._l(t.lunch.recipes,(function(e){return a("div",{key:e.id,staticClass:"recipe",attrs:{id:e.recipe_id}},[a("div",{on:{click:function(a){return t.openModal(e)}}},[a("img",{attrs:{src:e.recipeObj.recipe_img,width:"40px",alt:e.recipeObj.recipe_name}})]),t._v(" "),a("div",{staticClass:"recipe-desc",on:{click:function(a){return t.openModal(e)}}},[a("div",{staticClass:"recipe-name"},[t._v("\n                "+t._s(e.recipeObj.recipe_name)+"\n              ")]),t._v(" "),a("div",{staticClass:"recipe-weight"},[t._v(t._s(e.recipeCalories)+"kcal")])])])})),0)])]):t._e(),t._v(" "),t.dinner.recipes.length?a("div",{staticClass:"meal"},[a("div",{staticClass:"meal-top"},[a("div",{staticClass:"meal-name"},[t._v("Večera")]),t._v(" "),a("div",{staticClass:"meal-stats"},[a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/calories.png",alt:""}}),t._v(" "),a("span",[t._v("kcal: "+t._s(t.dinner.totalMealCalories))])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/carbs.png",alt:""}}),t._v(" "),a("span",[t._v("UH: "+t._s(t.dinner.totalUH))])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/protein.png",alt:""}}),t._v(" "),a("span",[t._v("protein: "+t._s(t.dinner.totalProteins)+"g")])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/lipids.png",alt:""}}),t._v(" "),a("span",[t._v("masti: "+t._s(t.dinner.totalLipids)+"g")])])])]),t._v(" "),a("div",{staticClass:"recipes-refresh"},[a("div",{staticClass:"recipes"},t._l(t.dinner.recipes,(function(e){return a("div",{key:e.id,staticClass:"recipe",attrs:{id:e.recipe_id}},[a("div",{on:{click:function(a){return t.openModal(e)}}},[a("img",{attrs:{src:e.recipeObj.recipe_img,width:"40px",alt:e.recipeObj.recipe_name}})]),t._v(" "),a("div",{staticClass:"recipe-desc",on:{click:function(a){return t.openModal(e)}}},[a("div",{staticClass:"recipe-name"},[t._v("\n                "+t._s(e.recipeObj.recipe_name)+"\n              ")]),t._v(" "),a("div",{staticClass:"recipe-weight"},[t._v(t._s(e.recipeCalories)+"kcal")])])])})),0)])]):t._e(),t._v(" "),t.snacks.length?a("div",t._l(t.snacks,(function(e,s){return a("div",{key:s,staticClass:"meal"},[a("div",{staticClass:"meal-top"},[a("div",{staticClass:"meal-name"},[t._v("Obrok "+t._s(s+1))]),t._v(" "),a("div",{staticClass:"meal-stats"},[a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/calories.png",alt:""}}),t._v(" "),a("span",[t._v("kcal: "+t._s(e.totalMealCalories))])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/carbs.png",alt:""}}),t._v(" "),a("span",[t._v("UH: "+t._s(e.totalUH))])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/protein.png",alt:""}}),t._v(" "),a("span",[t._v("protein: "+t._s(e.totalProteins)+"g")])]),t._v(" "),a("div",{staticClass:"meal-stat"},[a("img",{attrs:{src:"/assets/plan/lipids.png",alt:""}}),t._v(" "),a("span",[t._v("masti: "+t._s(e.totalLipids)+"g")])])])]),t._v(" "),a("div",{staticClass:"recipes-refresh"},[a("div",{staticClass:"recipes"},t._l(e.recipes,(function(e,s){return a("div",{key:s,staticClass:"recipe",attrs:{id:e.recipe_id}},[a("div",{on:{click:function(a){return t.openModal(e)}}},[a("img",{attrs:{src:e.recipeObj.recipe_img,width:"40px",alt:e.recipeObj.recipe_name}})]),t._v(" "),a("div",{staticClass:"recipe-desc",on:{click:function(a){return t.openModal(e)}}},[a("div",{staticClass:"recipe-name"},[t._v("\n                  "+t._s(e.recipeObj.recipe_name)+"\n                ")]),t._v(" "),a("div",{staticClass:"recipe-weight"},[t._v("\n                  "+t._s(e.recipeCalories)+"kcal\n                ")])])])})),0)])])})),0):t._e(),t._v(" "),a("button",{staticClass:"button-red my-4",on:{click:function(e){return t.deletePlan()}}},[t._v("\n      Ukloni plan!\n    ")])]):a("div",{staticClass:"d-flex justify-content-center align-items-center flex-column"},[a("img",{staticClass:"mt-5",attrs:{src:"/assets/plan/no-prep.png",width:"250px",alt:""}}),t._v(" "),a("h4",{staticClass:"mt-4 text-center",staticStyle:{color:"gray"}},[t._v("\n      Nemate sačuvanih planova ishrane.\n    ")]),t._v(" "),t._m(1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"total-info"},[e("img",{attrs:{src:"/assets/plan/info.png",alt:""}}),this._v(" "),e("span",[this._v("detalji")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticStyle:{color:"gray"}},[this._v("Dodajte "),e("a",{attrs:{href:"/plan"}},[this._v("ovdje")])])}],!1,null,null,null);e.default=c.exports}}]);